<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>2023新冠肺炎統計</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="css/styles.css" rel="stylesheet" />
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
</head>

<body class="sb-nav-fixed">
  <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
    <!-- Sidebar Toggle-->
    <button class="btn btn-link btn-lg order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i
        class="fas fa-bars"></i></button>
    <!-- Navbar Brand-->
    <a class="navbar-brand ps-3" href="index.html">Abby's</a>
  </nav>
  <div id="layoutSidenav">
    <div id="layoutSidenav_nav">
      <nav class="sb-sidenav accordion sb-sidenav-light" id="sidenavAccordion">
        <!--SideNav Menu-->
        <div class="sb-sidenav-menu">
          <div class="nav">
            <!--基本資料-->
            <div class="sb-sidenav-menu-heading">基本資料</div>
            <a class="nav-link" href="index.html">
              <div class="sb-nav-link-icon"><i class="bi bi-person-circle"></i></div>
              個人簡歷
            </a>
            <!--作品集-->
            <div class="sb-sidenav-menu-heading">作品集</div>
            <!--深度學習-->
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseLayouts"
              aria-expanded="false" aria-controls="collapseLayouts">
              <div class="sb-nav-link-icon">
                <i class="bi bi-laptop"></i>
              </div>
              深度學習
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapseLayouts" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="MNIST.html">MNIST 手寫辨識</a>
                <a class="nav-link" href="cifar10.html">CIFAR-10 彩色影像辨識</a>
                <a class="nav-link" href="beanleaf.html">Kaggle Dataset 豆葉病害分類</a>
              </nav>
            </div>
            <!--資料處理-->
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsePages"
              aria-expanded="false" aria-controls="collapsePages">
              <div class="sb-nav-link-icon">
                <i class="bi bi-laptop"></i>
              </div>
              資料處理
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapsePages" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="covid.html">台灣2024新冠年齡層統計</a>
                <a class="nav-link" href="2330.html">股市分析 以台積電為例</a>
              </nav>
            </div>

            <!--Python 基礎應用-->
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsePython"
              aria-expanded="false" aria-controls="collapsePython">
              <div class="sb-nav-link-icon">
                <i class="bi bi-p-square"></i>
              </div>
              Python 基礎應用
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapsePython" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="PSTGame.html">剪刀石頭布小遊戲</a>
                <a class="nav-link" href="Dice.html">擲骰子小遊戲</a>
                <a class="nav-link" href="tarot.html">LINE官方帳號結合Gemini塔羅牌占卜</a>
              </nav>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <!--===============================-->
    <!--Content-->
    <div id="layoutSidenav_content">
      <main>
        <div class="container-fluid px-4">
          <h1 class="mt-4">2023新冠肺炎統計</h1>
          <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item">作品集</li>
            <li class="breadcrumb-item">資料處理</li>
            <li class="breadcrumb-item active">2023新冠肺炎統計</li>
          </ol>
          <!--實驗方法-->
          <div class="container mb-4">
            <h2>說明</h2>
            <p>資料集(covid-19.csv)來自<a href="https://nidss.cdc.gov.tw/nndss/DiseaseMap?id=19CoV" target="_blank"><i
                  class="bi bi-link-45deg"
                  target="_blank"></i>衛生福利部疾病管制署</a>公開資料集，以下為2024年的確診病例數統計，利用Pandas資料處理成可視化的圖表。2023年網頁爬蟲詳細過程請見<a
                href="https://colab.research.google.com/drive/12wEPu8Ld3zm1EoIj4Xufdwbak-CqGfEH?usp=sharing"
                target="_blank"><i class="bi bi-link-45deg"></i>Google Colab</a>。</p>
            <div class="card mb-4">
              <div class="card-header">
                <i class="bi bi-image"></i>2024年 covid-19各年齡層確定病例數統計長條圖
              </div>
              <div class="card-body">
                <img src="assets/img/covid/Figure_1.png" alt="2024年 covid-19各年齡層確定病例數統計長條圖" class="img-fluid">
                <div class="text-muted text-end">
                  Updated at August-29-2024
                </div>
              </div>
            </div>
            <hr>
            <h2>Python 程式碼</h2>
            <div>
              <pre class="bg-light p-3 rounded">
                <code>
                  import matplotlib.pyplot as plt
                  import pandas as pd
                  
                  # 設定字型
                  plt.rcParams['font.family'] = ['Microsoft JhengHei']
                  
                  # 讀取數據
                  df = pd.read_csv('covid-19.csv')
                  
                  # 按年齡層分组並彙整確定病例數
                  df_ages=df.groupby('年齡層')['確定病例數'].sum()
                  
                  # 處理索引
                  new_index=[]
                  for i in range(df_ages.index.size):
                    if len(df_ages.index[i]) >3:
                      new_index.append(df_ages.index[i])
                    else:
                      if len(df_ages.index[i]) == 1:
                        new_index.append(df_ages.index[i].zfill(2))
                      else:
                          if '+' in df_ages.index[i]:
                            new_index.append(df_ages.index[i])
                          else:
                            spi=df_ages.index[i].split('-')
                            #new_index.append("0"+spi[0]+"-0"+spi[1]) #結果和下面zfill(2)一樣
                            new_index.append(spi[0].zfill(2)+"-"+spi[1].zfill(2))
                  df_ages.index=new_index
                  df_ages.sort_index(inplace=True)
                  df_ages=df_ages.to_frame(name='確診統計')
                  
                  # 自訂圖表顏色
                  colors = ['#ff7f0e', '#1f77b4']
                  
                  # 分配顏色，人數大於600000為橘色其他為藍色
                  df_ages['color'] = df_ages['確診統計'].apply(lambda x: colors[0] if x > 600000 else colors[1])
                  
                  # 繪圖
                  ax=df_ages['確診統計'].plot(kind='bar',figsize=(20,10),rot=45,color=df_ages['color'],fontsize=16)
                  ax.legend(fontsize=20)
                  ax.set_xlabel('年齡分佈',fontdict={'fontsize':18,'color':'c'})
                  ax.set_title("台灣2024新冠年齡層統計",pad=20, fontdict={'fontsize':24,'color':'r'})
                  plt.show()
                </code>
              </pre>
            </div>
            <hr>
            <h5>相關連結</h5>
            <a href="https://colab.research.google.com/drive/12wEPu8Ld3zm1EoIj4Xufdwbak-CqGfEH?usp=sharing"
              target="_blank"><i class="bi bi-code-square"></i> Google
              Colab連結</a> &middot;
            <a href="https://nidss.cdc.gov.tw/nndss/DiseaseMap?id=19CoV" target="_blank"><i
                class="bi bi-box-arrow-up-right"></i>
              衛生福利部疾病管制署</a>
          </div>
        </div>
      </main>
      <!--================================-->
      <!--footer-->
      <footer class="py-4 bg-light mt-auto">
        <div class="container-fluid px-4">
          <div class="d-flex align-items-center justify-content-between small">
            <div class="text-muted">Copyright &copy; Abby's Website 2023</div>
          </div>
        </div>
      </footer>
      <!--================================-->
    </div>
  </div>
  <!--Scripts-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>
  <script src="js/scripts.js"></script>
</body>

</html>
